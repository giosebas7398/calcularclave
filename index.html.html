<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Calcular Claves</title>
		<script>
			var $numeroclave;
			var mensaje = true; 
			function test() {
				if(document.getElementById("txtpreclave").value=="")
				{
					alert('Debe Digitar la Pre-Clave');
				}
				else
				{
					var $dia;var $mes;var $preclave;
					$preclave=document.getElementById("txtpreclave").value;
					$preclave=parseInt($preclave);
					var hoy = new Date();
					$dia = hoy.getDate();
					$dia =parseInt($dia);
					var $tipo=document.getElementById('selectid').options[document.getElementById('selectid').selectedIndex].value;
					$tipo=parseInt($tipo);
				    var $puntos=document.getElementById('selectp').options[document.getElementById('selectp').selectedIndex].value;
				    $puntos=parseInt($puntos)
				    if($tipo==1){
				    	$numeroclave=($tipo*$dia*$puntos);
				    }
				    else{
				    	$numeroclave=($tipo*$dia*$preclave*$puntos);
				    }
				    document.getElementById("txtresultado").value = $numeroclave;
			   }
			}
			function copiaPortapapeles() {
 
				// Seleccionamos el texto que vamos a copiar
				document.getElementById("txtresultado").select();
				// Copiamos el texto al portapapeles de windows
				window.clipboardData.setData("Text", document.getElementById("txtresultado").value);
				// Si mensaje es true se ejecuta
				if (mensaje) {
					// Mostramos el mensaje de alerta
					alert('Texto copiado al portapapeles!!!');
				}
			}
				 
		</script>
		<style>
			#txtresultado{
				width:200px;
				background-color:green;
				color:white; padding:10px;
				text-align: center;
				font-size: 18px;
				margin: 15px;
			}
			#txtpreclave{
				width:200px;
				background-color:blue;
				color:white; padding:10px;
				text-align: center;
				font-size: 18px;
			}
			
		</style>
	</head>
	<body>
		<h2>HERRAMIENTA DE CALCULO</h2>
		<form>
			<fieldset>
				<legend style="width: 300px">Datos Para Calcular</legend>
				<br />
				<label>Tipo Anulacion</label>
				<select id="selectid">
					<option value="2">Anulacion</option>
					<option value="3">Devolucion</option>
					<option value="7">Descuentos</option>
					<option value="1">Factura Original</option>
					<option value="4">Cambiar Precios</option>
				</select>
				<br>
				<br>
				<label>Puntos</label>
				<select id="selectp">
					<option style="font-size: 10px" value="7043">LA ECONOMIA DROGUERIA MERCAR</option>
					<option style="font-size: 10px" value="7044">LA ECONOMIA DROGUERIA PLAZA CAICEDO</option>
					<option style="font-size: 10px" value="7045">LA ECONOMIA DROGUERIA REPUBLICA DE ISRAEL</option>
					<option style="font-size: 10px" value="7046">LA ECONOMIA DROGUERIA MELENDEZ</option>
					<option style="font-size: 10px" value="7048">LA ECONOMIA DROGUERIA PASO ANCHO</option>
					<option style="font-size: 10px" value="7049">LA ECONOMIA DROGUERIA CIUDAD JARDIN</option>
					<option style="font-size: 10px" value="7050">LA ECONOMIA DROGUERIA LA LUNA</option>
					<option style="font-size: 10px" value="7051">LA ECONOMIA DROGUERIA CLINICA DEL OCCIDENTE</option>
					<option style="font-size: 10px" value="7052">LA ECONOMIA DROGUERIA DROGUERIAS LA 44</option>
					<option style="font-size: 10px" value="7054">LA ECONOMIA DROGUERIA JAMUNDI SUPERINTER</option>
					<option style="font-size: 10px" value="8020">LA ECONOMIA DROGUERIA CALDAS</option>
					<option style="font-size: 10px" value="8036">LA ECONOMIA DROGUERIA N0.836</option>
					<option style="font-size: 10px" value="8044">LA ECONOMIA DROGUERIA LOS ANDES</option>
				</select>
				<br>
				<br>
				<label>Ingrese la Preclave: </label>
				<input name="txtpreclave" type="text" id="txtpreclave" value="" autofocus/>
				<br>
				<br>
				<input 		style="font-size: 18px; margin-left: 120px" 
						  	type="button"
						  	value="Calcular"
						  	onclick="test()"
				/>
				<br> 
				<input name="txtresultado" type="text" id="txtresultado" value=""/>
				<input type="button"  value="Seleccionar" onclick="copiaPortapapeles()">
			</fieldset>
		</form>
	</body>
</html>